CFLAGS  += -I. -I$(TOP)/shared -I$(SRCBASE)/include -Wall -I. -Wall -Dlinux $(GLOBAL_OPTIONS)
CFLAGS  += -s -Os -DNO_PARALLEL
LDFLAGS += -L$(TOP)/nvram -L$(TOP)/shared -L$(TOP)/netconf -lnvram -lshared -lnetconf
#LDFLAGS += -L$(TOP)/nvram -L$(TOP)/netconf -lnvram -lnetconf

#CFLAGS += -DNETWORKMAP_DBG -DNETWORKMAP_DBG1

all: networkmap

networkmap: function.o networkmap.o
	$(CC) -o $@ $^ $(LDFLAGS) $(CFLAGS)

ipscan: function.o ipscan.o 
	$(CC) -o $@ $^ $(LDFLAGS) $(CFLAGS)

ctrlpt: ctrlpt.o
	$(CC) -o $@ $^ $(LDFLAGS) $(CFLAGS)

upnp:   upnp.o
	$(CC) -o $@ $^ $(LDFLAGS) $(CFLAGS)

install: all
	install -D networkmap ${INSTALLDIR}/usr/sbin/networkmap
#	install -D ipscan ${INSTALLDIR}/usr/sbin/ipscan
#	install -D ctrlpt ${INSTALLDIR}/usr/sbin/ctrlpt
#	install -D upnp ${INSTALLDIR}/usr/sbin/upnp
#	install -D momo ${INSTALLDIR}/usr/sbin/momo

clean: 
	rm -rf *.o networkmap
